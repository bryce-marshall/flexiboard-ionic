$flx-btn-border-size: 1px;
$dark: #444 !default;

flexiboard {   
    > div {                 
        &.theme-dark {
            .flexiboard-key-wrapper {
                &:not(.flexiboard-blank) {
                    .flexiboard-key:not([disabled]) {
                        &:active {
                            background: lighten($dark, 10%);
                        }
                    }
                    .flexiboard-key[disabled] {
                        color: darken(#fff, 30%); background: lighten($dark, 55%);
                    }                    
                }

                .flexiboard-key {
                    -webkit-transition: background 150ms ease-in-out;
                    -moz-transition: background 150ms ease-in-out;
                    -o-transition: background 150ms ease-in-out;
                    -ms-transition: background 150ms ease-in-out;
                    transition: background 150ms ease-in-out;

                    color: #fff;
                    background: $dark;
                }                
            }

            &:not(.round-buttons) {
                .flexiboard-key-wrapper {
                    background: $dark;                    
                    outline: $flx-btn-border-size solid darken($dark, 10%);                    

                    &:not(.flexiboard-blank):not([disabled]):active {                        
                        .flexiboard-key {
                            margin: 3px;
                        }
                    }
                    
                    .flexiboard-key.action-key {
                        &:not([disabled]) { background: darken($dark, 3%); }
                        &:active:not([disabled]) {
                            background: lighten($dark, 5%);
                        }                        
                    }                    
                }
            }
            &.round-buttons {
                .flexiboard-key-wrapper {
                    .flexiboard-key.action-key {
                        &:not([disabled]) { background: darken($dark, 7%); }
                        &:active:not([disabled]) {
                            background: lighten($dark, 5%);
                        }
                    }
                }
            }
        }        
    }
}